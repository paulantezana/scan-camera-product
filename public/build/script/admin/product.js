let maintenanceTable,pProductImportValidator;function maintenanceTableReload(){maintenanceTable.getData()}function maintenanceTableNew(e,t){window.location.href=URL_PATH+"/admin/"+t+"/form"}function maintenanceTableImport(e,t){SnModal.open("productImportModal")}function productImportSubmit(t){var e,a;pProductImportValidator.validate()?null!=(e=document.getElementById("productImportFile"))&&(void 0===e.files||null==(e=e.files[0])?SnModal.danger({title:"ALERTA USUARIO",content:"Por favor, selecciona al menos un archivo para continuar."}):validateFile(e,["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],3e3)&&((a=new FormData).append("excelFile",e),SnLoadingState(!0,"jsAction","productImportModalFormSubmit"),RequestApi.fetch("/admin/product/import",{method:"POST",body:a}).then(e=>{e.success?(SnModal.success({title:"PROCESO COMPLETO",content:e.message}),SnModal.close("productImportModal"),maintenanceTable.getData()):dynamicResponseErrorModalMessage(e),t.reset()}).finally(e=>{SnLoadingState(!1,"jsAction","productImportModalFormSubmit")}))):dynamicFormSubmitInvalidMessage("No se especificó ningún archivo")}document.addEventListener("DOMContentLoaded",()=>{pProductImportValidator=dynamicLoadFormValidate(pProductImportValidator,"productImportModalForm"),maintenanceTable=new SnTable({elementId:"drawProductTable",entity:"product",data:e=>snTableFetchData("/admin/product/table",e),actions:[],selectable:!1,paramKeys:["id"],columns:[{title:"Código",field:"code",filterable:!0,sortable:!0},{title:"Descripción",field:"description",filterable:!0,sortable:!0},{title:"Verificado",field:"verified",filterable:!0,sortable:!0},{title:"Verificado fecha",field:"verified_date",filterable:!0,sortable:!0}]});const t=document.getElementById("productImportModalForm");t.addEventListener("submit",function(e){e.preventDefault(),productImportSubmit(t)})});